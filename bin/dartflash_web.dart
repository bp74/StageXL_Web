import "dart:web_audio" as VE;import "dart:math" as gB;import "dart:html" as VB;import "dart:async" as TB;import "dart:json" as mF;class fI{static const  gI="Chrome";static const  hI="Firefox";static const  iI="Internet Explorer";static const  jI="Safari";final  qH;final  minimumVersion;const fI(this.qH,[this.minimumVersion]);}class kI{final  name;const kI(this.name);}class nI extends UB{final  nJ=new gB.Random();nI(){var g=new hE();g.kB=470;g.qB=250;g.x=470;g.y=250;BB(g);for(int h=0;h<150;h++ ){var v=1+nJ.nextInt(3);var p=QB.KC('flower${v}');var i=new sC(p);i.kB=64;i.qB=64;i.x=64+nJ.nextInt(940-128);i.y=64+nJ.nextInt(500-128);g.BB(i);var o=new tG(i,600,s.YC);o.jB('rotation',gB.PI*60.0);MB.add(o);}var k=new List<JB>();for(int h=0;h<6;h++ ){var n=(h*60)*gB.PI/180;var m=(h*60+30)*gB.PI/180;k.add(new JB(470+200*gB.cos(n),250+200*gB.sin(n)));k.add(new JB(470+100*gB.cos(m),250+100*gB.sin(m)));}var t=new dE.dJ(100,100,740,300);var u=new dE.fJ(470,250,200);var q=new dE.hJ(k);VB.query('#mask-none').onClick.listen((j)=>g.mask=null);VB.query('#mask-rectangle').onClick.listen((j)=>g.mask=t);VB.query('#mask-circle').onClick.listen((j)=>g.mask=u);VB.query('#mask-custom').onClick.listen((j)=>g.mask=q);VB.query('#mask-spin').onClick.listen((j){var l=new tG(g,2.0,s.OF);l.jB('rotation',gB.PI*4.0);l.onComplete=()=>g.nC=0.0;MB.add(l);});}}class oI extends UB{var nJ=new gB.Random();var qJ;var rJ;oI(){qJ=QB.FE('walkTextureAtlas');rJ=qJ.DI('walk');uJ();}uJ(){var h=nJ.nextDouble();var g=new EJ(rJ,30);g.x=-128;g.y=20.0+180.0*h;g.lB=g.mB=0.5+0.5*h;g.play();BB(g);bI((k,j)=>(k.y-j.y).toInt());var i=new tG(g,5.0+(1.0-h)*5.0,s.YC);i.jB('x',940.0);i.onComplete=(){MB.remove(g);eF(g);};MB.add(g);MB.add(i);MB.RF(uJ,0.2);}}class pI extends sC implements aB{var KD,LD;pI( g,this.KD,this.LD):super(g){this.kB=g.width/2;this.qB=g.height/2;} pB( i){var g=x+KD*i;var h=y+LD*i;if(g>910||g<30)KD=-KD;else x=g;if(h>470||h<30)LD=-LD;else y=h;return true;}}class qI extends UB{final  pJ=['C4','A3','A3','C4','D4','G3','G3','A3','A3#','F4','F4','E4','C4','D4','C4','A3#','A3','C4','D4','D4','D4','G4','F4','E4','F4','D4','C4','F3','G3','A3','D4','C4','C4','A3#','A3','E3','F3'];final  tJ=['Hey ','Jude, ',"don't ",'make ','it ','bad.<br>','Take ','a ','sad ','song ','and ','make ','it ','better.<br>','','','','Remember ','','','to ','let ','her ','into ','','your ','heart.<br>','Than ','you ','can ','start ','','to ','make ','things ','better.','',' '];qI(){var h=new sC(QB.KC('Background'));BB(h);var g=new nF(pJ,tJ);g.x=120;g.y=30;BB(g);VB.query('#startOver').onClick.listen((i)=>g.YI());}}class lI extends UB{final  aI='''
Filet mignon leberkas pig pork chop biltong, short loin strip steak turkey brisket 
venison. Pastrami venison pancetta, leberkas pork chop chicken prosciutto beef ribs 
bresaola kielbasa swine biltong capicola. Hamburger beef ribs ball tip drumstick salami 
pig. Capicola pork loin shank, salami chicken hamburger tail. Sirloin spare ribs
ground round cow strip steak prosciutto swine bacon corned beef.''';lI(){var k=aI.replaceAll('\r','').replaceAll('\n','');var j=new DJ();j.QC=new gE('Helvetica,Arial',14,yB.MH,bold:true,italic:true);j.text=k;j.x=10;j.y=10;j.width=920;j.height=20;BB(j);var h=new DJ();h.QC=new gE('Helvetica,Arial',16,yB.NF);h.text=k;h.x=10;h.y=50;h.width=200;h.height=300;h.wordWrap=true;BB(h);var g=new DJ();g.QC=new gE('Helvetica,Arial',16,yB.jG,align:LC.yE);g.text=k;g.x=300;g.y=50;g.width=200;g.height=300;g.wordWrap=true;BB(g);var i=new DJ();i.QC=new gE('Caesar Dressing',30,yB.xC,align:LC.SD);i.text=k;i.x=590;i.y=50;i.width=340;i.height=300;i.wordWrap=true;BB(i);}}class mI extends UB{mI(){var g=new DJ();g.QC=new gE('Helvetica,Arial',14,yB.BH,bold:true);g.text='ToDo: show a cool demo ...';g.x=10;g.y=10;g.width=920;g.height=20;BB(g);}}class sI extends UB{sI(){var k=QB.FI('flump');var i=new FJ(k,'idle');i.x=500;i.y=200;BB(i);var j=new FJ(k,'walk');j.x=150;j.y=460;BB(j);var g=new FJ(k,'attack');g.x=450;g.y=460;BB(g);var h=new FJ(k,'defeat');h.x=720;h.y=460;BB(h);MB.add(i);MB.add(j);MB.add(g);MB.add(h);FB.hD('images/flumpLibraryAtlas0.png').then((m){var l=new sC(m);l.x=40;l.y=40;BB(l);});}}class rI extends UB{var qJ;rI(){qJ=QB.FE('levelUp');sJ();FB.hD('images/LevelupTextureAtlas.png').then((h){var g=new sC(h);g.x=70;g.y=40;BB(g);});}sJ(){var l=330;for(int j=0;j<7;j++ ){var h=qJ.KC('LevelUp${j}');var g=new sC(h);g.kB=h.width/2;g.qB=h.height/2;g.x=l+h.width/2;g.y=150;g.lB=0.0;g.mB=0.0;BB(g);var k=new tG(g,2.0,s.zC);k.jB('scaleX',1.0);k.jB('scaleY',1.0);k.QF=j*0.05;var i=new tG(g,0.4,s.YC);i.jB('scaleX',0.0);i.jB('scaleY',0.0);i.QF=2.0;i.onComplete=()=>g.HE();MB.add(k);MB.add(i);l=l+5+h.width;}MB.RF(()=>sJ(),3.0);}}class tI extends UB{final  oJ=[{'name':'DropShadowFilter (black)','filter':new zI(10,gB.PI/4,yB.xC,0.8,8,8)},{'name':'GlowFilter (red)','filter':new yI(yB.NF,1.0,20,20)},{'name':'ColorMatrixFilter (grayscale)','filter':new AJ.iJ()},{'name':'ColorMatrixFilter (invert)','filter':new AJ.jJ()},{'name':'BlurFilter (radius 1)','filter':new BJ(1,1)},{'name':'BlurFilter (radius 5)','filter':new BJ(5,5)},{'name':'BlurFilter (radius 10)','filter':new BJ(10,10)},{'name':'BlurFilter (radius 20)','filter':new BJ(20,20)}];tI(){var m=new FB(940,500,true,0x000000);var k=QB.KC('king');var o=new FB(230,245,true,0xFFF0F0F0);var p=new sC(m);BB(p);for(int h=0;h<oJ.length;h++ ){var i=235*(h%4);var j=250*(h~/4);var q=oJ[h]['filter'] as WC;var t=oJ[h]['name'] as String;var u=new DB(0,0,k.width,k.height);var n=new JB(i+40,j+45);m.oH(k,u,n,q);var l=new sC(o);l.x=i;l.y=j;xD(l,0);var g=new DJ();g.QC=new gE('Helvetica Neue, Helvetica, Arial',14,yB.xC);g.x=i+5;g.y=j+5;g.width=200;g.text=t;BB(g);}}}class uI{final  mJ=[{"name":"linear","transition":s.YC},{"name":"sine","transition":s.HF},{"name":"cosine","transition":s.wG},{"name":"random","transition":s.zG},{"name":"easeInQuadratic","transition":s.bD},{"name":"easeOutQuadratic","transition":s.cD},{"name":"easeInOutQuadratic","transition":s.CH},{"name":"easeOutInQuadratic","transition":s.DH},{"name":"easeInCubic","transition":s.dD},{"name":"easeOutCubic","transition":s.eD},{"name":"easeInOutCubic","transition":s.MF},{"name":"easeOutInCubic","transition":s.JH},{"name":"easeInQuartic","transition":s.fD},{"name":"easeOutQuartic","transition":s.gD},{"name":"easeInOutQuartic","transition":s.NH},{"name":"easeOutInQuartic","transition":s.OH},{"name":"easeInQuintic","transition":s.iD},{"name":"easeOutQuintic","transition":s.jD},{"name":"easeInOutQuintic","transition":s.QH},{"name":"easeOutInQuintic","transition":s.RH},{"name":"easeInCircular","transition":s.kD},{"name":"easeOutCircular","transition":s.mD},{"name":"easeInOutCircular","transition":s.SH},{"name":"easeOutInCircular","transition":s.TH},{"name":"easeInSine","transition":s.nD},{"name":"easeOutSine","transition":s.oD},{"name":"easeInOutSine","transition":s.VH},{"name":"easeOutInSine","transition":s.ZH},{"name":"easeInExponential","transition":s.pD},{"name":"easeOutExponential","transition":s.qD},{"name":"easeInOutExponential","transition":s.aH},{"name":"easeOutInExponential","transition":s.bH},{"name":"easeInBack","transition":s.rD},{"name":"easeOutBack","transition":s.sD},{"name":"easeInOutBack","transition":s.OF},{"name":"easeOutInBack","transition":s.eH},{"name":"easeInElastic","transition":s.tD},{"name":"easeOutElastic","transition":s.zC},{"name":"easeInOutElastic","transition":s.fH},{"name":"easeOutInElastic","transition":s.hH},{"name":"easeInBounce","transition":s.uD},{"name":"easeOutBounce","transition":s.AD},{"name":"easeInOutBounce","transition":s.iH},{"name":"easeOutInBounce","transition":s.jH}]; II(){var j=new VB.DivElement();for(int h=0;h<mJ.length/4;h++ ){var i=new VB.DivElement();i.classes.add("row");j.children.add(i);for(int g=0;g<4;g++ ){var m=mJ[h*4+g]["name"];var l=mJ[h*4+g]["transition"];var k=FK(m,l);k.id="cell";i.children.add(k);}}return j;} FK( o, q( ratio)){var h=new VB.DivElement();h.classes.add("span3");h.style.height="130px";var j=new VB.CanvasElement(width:200,height:140);j.style.position="absolute";j.style.zIndex="1";h.children.add(j);var i=new VB.DivElement();i.text=o;i.style.position="relative";i.style.zIndex="2";i.style.top="6px";h.children.add(i);var l=new kC("stage",j);var n=new xI();var g=n.JI;g.beginPath();g.moveTo(0.5,30.5);g.lineTo(199.5,30.5);g.lineTo(199.5,109.5);g.lineTo(0.5,109.5);g.closePath();g.jF(0xFF000000);g.wH(0xFFDFDFDF);g.beginPath();g.moveTo(0.5,109.5);for(int k=0;k<=199;k++ ){var m=k/199.0;var p=0.5+m*199.0;var t=109.5-79.0*q(m);g.lineTo(p,t);}g.jF(0xFF0000FF,2);l.BB(n);l.VF();return h;}}var nB;var MD;var MB;var QB;class vI extends UB{vI(){vJ(250);VB.query('#minus10').onClick.listen((g)=>wJ(10));VB.query('#minus50').onClick.listen((g)=>wJ(50));VB.query('#plus50').onClick.listen((g)=>vJ(50));VB.query('#plus10').onClick.listen((g)=>vJ(10));this.NI.listen(xJ);}var yJ=null;xJ( g){if(yJ==null){yJ=1.00/g.bF;}else{yJ=0.05/g.bF+0.95*yJ;}VB.query('#fpsMeter').innerHtml='fps: ${yJ.round()}';}vJ( l){var g=new gB.Random();var i=QB.FE('flags');var j=i.zH;while ( --l>=0){var k=j[g.nextInt(j.length)];var m=i.KC(k);var h=new pI(m,g.nextInt(200)-100,g.nextInt(200)-100);h.x=30+g.nextInt(940-60);h.y=30+g.nextInt(500-60);BB(h);MB.add(h);}VB.query('#flagCounter').innerHtml='Flags: ${GE}';}wJ( h){while ( --h>=0&&GE>0){var g=EI(0);g.HE();MB.remove(g);}VB.query('#flagCounter').innerHtml='Flags: ${GE}';}} main(){var l=VB.window.location.pathname;var m=new RegExp(r"([A-Za-z0-9-]+)\.html",multiLine:false,caseSensitive:false);var g=m.firstMatch(l);if(g!=null&&g.groupCount==1){var h=g.group(1);print("current page: ${h}");var i=VB.query("#stage");if(i!=null){nB=new kC('stage',i);MD=new sF();MD.nH(nB);MB=MD.MI;QB=new nE();}switch (h){case "filter":QB..oB('king','images/king.png')..load().then((AK)=>nB.BB(new tI()));break;case "masking":QB..oB('flower1','images/Flower1.png')..oB('flower2','images/Flower2.png')..oB('flower3','images/Flower3.png')..load().then((AK)=>nB.BB(new nI()));break;case "movieclip":QB..yD('walkTextureAtlas','images/walk.json',fC.wC)..load().then((AK)=>nB.BB(new oI()));break;case "performance":QB..yD('flags','images/flags.json',fC.wC)..load().then((AK)=>nB.BB(new vI()));break;case "sound":QB..oB('KeyBlack','images/piano/KeyBlack.png')..oB('KeyWhite0','images/piano/KeyWhite0.png')..oB('KeyWhite1','images/piano/KeyWhite1.png')..oB('KeyWhite2','images/piano/KeyWhite2.png')..oB('KeyWhite3','images/piano/KeyWhite3.png')..oB('Finger','images/piano/Finger.png')..oB('Background','images/piano/Background.jpg')..HB('Cheer','sounds/Cheer.mp3')..HB('Note1','sounds/piano/Note1.mp3')..HB('Note2','sounds/piano/Note2.mp3')..HB('Note3','sounds/piano/Note3.mp3')..HB('Note4','sounds/piano/Note4.mp3')..HB('Note5','sounds/piano/Note5.mp3')..HB('Note6','sounds/piano/Note6.mp3')..HB('Note7','sounds/piano/Note7.mp3')..HB('Note8','sounds/piano/Note8.mp3')..HB('Note9','sounds/piano/Note9.mp3')..HB('Note10','sounds/piano/Note10.mp3')..HB('Note11','sounds/piano/Note11.mp3')..HB('Note12','sounds/piano/Note12.mp3')..HB('Note13','sounds/piano/Note13.mp3')..HB('Note14','sounds/piano/Note14.mp3')..HB('Note15','sounds/piano/Note15.mp3')..HB('Note16','sounds/piano/Note16.mp3')..HB('Note17','sounds/piano/Note17.mp3')..HB('Note18','sounds/piano/Note18.mp3')..HB('Note19','sounds/piano/Note19.mp3')..HB('Note20','sounds/piano/Note20.mp3')..HB('Note21','sounds/piano/Note21.mp3')..HB('Note22','sounds/piano/Note22.mp3')..HB('Note23','sounds/piano/Note23.mp3')..HB('Note24','sounds/piano/Note24.mp3')..HB('Note25','sounds/piano/Note25.mp3')..load().then((AK)=>nB.BB(new qI()));break;case "text":nB.BB(new lI());break;case "tweener":nB.BB(new mI());break;case "flump":QB..mH('flump','images/flumpLibrary.json')..load().then((AK)=>nB.BB(new sI()));break;case "texturepacker":QB..yD('levelUp','images/LevelupTextureAtlas.json',fC.wC)..load().then((AK)=>nB.BB(new rI()));break;case "transitions":var k=new uI();var j=k.II();VB.query("#transitions").children.add(j);break;}}}class nF extends UB{final  cC;final  bC;final  zJ=['C3','C3#','D3','D3#','E3','F3','F3#','G3','G3#','A3','A3#','B3','C4','C4#','D4','D4#','E4','F4','F4#','G4','G4#','A4','A4#','B4','C5'];var BK=new Map<String,oF>();var CK;var DK=0;nF(this.cC,this.bC){for(int h=0,i=0;h<zJ.length;h++ ){var k=QB.TF('Note${h+1}');var j=zJ[h];var g=BK[j]=new oF(this,j,k);if(j.endsWith('#')){g.x=i-16;g.y=35;BB(g);}else{g.x=i;g.y=35;xD(g,0);i=i+47;}}CK=new sC(QB.KC('Finger'));CK.kB=20;BB(CK);EK();}rH( g){if(DK<cC.length&&cC[DK]==g){if(DK==cC.length-1)QB.TF('Cheer').play();DK++ ;EK();}}YI(){DK=0;CK.alpha=1;EK();}EK(){var h=VB.query('#lyrics');var m=-1;h.innerHtml='';for(int g=0,j=0;g<bC.length;g++ ){if(bC[g]!='')j=g;if(g==this.DK)m=j;}for(int g=0;g<bC.length;g++ ){if(g==m){h.appendHtml('<span id="word">${bC[g]}</span>');}else{h.appendHtml(bC[g]);}}if(DK<cC.length){var k=cC[DK];if(BK.containsKey(k)){var i=BK[k];MB.XI(CK);CK.y=0;var n=new tG(this.CK,0.4,s.MF);var l=new tG(this.CK,0.4,s.HF);n.jB('x',i.x+i.width/2);l.jB('y',-10);MB.add(n);MB.add(l);}}else{var o=new tG(CK,0.4,s.YC);o.jB('alpha',0);MB.add(o);}}}class oF extends hE{final  cF;final  cB;final  iF;oF(this.cF,this.cB,this.iF){var h;if(cB.endsWith('#')){h='KeyBlack';}else if(cB.startsWith('C5')){h='KeyWhite0';}else if(cB.startsWith('C')||cB.startsWith('F')){h='KeyWhite1';}else if(cB.startsWith('D')||cB.startsWith('G')||cB.startsWith('A')){h='KeyWhite2';}else if(cB.startsWith('E')||cB.startsWith('B')){h='KeyWhite3';}var i=QB.KC(h);var l=new sC(i);this.BB(l);var j=cB.endsWith('#')?yB.gH:yB.xC;var k=new gE('Helvetica,Arial',10,j,align:LC.SD);var g=new DJ();g.QC=k;g.text=cB;g.width=i.width;g.height=20;g.ZF=false;g.y=i.height-20;BB(g);this.LE=true;this.onMouseDown.listen(GK);this.onMouseOver.listen(GK);this.onMouseUp.listen(HK);this.onMouseOut.listen(HK);}GK( g){if(g.GC){this.iF.play();this.alpha=0.7;this.cF.rH(this.cB);}}HK( g){this.alpha=1.0;}}class FC{var YK; KI( g){if(YK!=null)return YK.containsKey(g)||YK.containsKey("${g}_CAPTURE");else return false;} dispatchEvent( g){iN(g,this,this,xB.NC);} iN( g, k, l, i){if(YK!=null){var j=(i==xB.kE)?"${g.type}_CAPTURE":g.type;var h=YK[j];if(h!=null){g.xK=k;g.eN=l;g.LN=i;g.ON=false;g.UN=false;h.HN(g);}}} wL( g, j){if(YK==null)YK=new Map<String,eC>();var i=j?"${g}_CAPTURE":g;var h=YK[i];if(h==null)h=YK[i]=new eC(this,g,j);return h;}}class tC{var RK;var MK;var qK;var CL;var LL;var VL;tC( g, h, i){RK=g;MK=h;qK=i;LL=null;VL=null;} get kind=>RK; get name=>MK; get mC=>VL; get error=>LL;wM( i){CL=i.then((g){VL=g;LL=null;},onError:( h){VL=null;LL=h.error;});}}abstract class aB{ pB( g);}class xF{static const  JG="pixel";}class QD{static var iE=iB.RD;static var IG=false;static var UG=new TB.StreamController<String>();static var YG=UG.stream.asBroadcastStream();static  LF( i){var h=i;var g="auto";if(iE!=iB.RD)h=iE;switch (h){case iB.RD:g="auto";break;case iB.UD:g="default";break;case iB.VD:g="pointer";break;case iB.VG:g="move";break;case iB.WG:g="text";break;case iB.ZG:g="wait";break;}if(IG)g="none";return g;}}class qF{static const  HG="round";}class rF{static const  HG="round";}class CJ extends MC{var cK;var uK;CJ( i, h, g){cK=h;uK=g;}set GD( g){uK=g;} stop(){}}abstract class MC extends FC{ set GD( g); stop();}class DJ extends IB{var eK="";var rK=0x000000;var ML=null;var dL=wF.NG;var rL=xF.JG;var IK=yF.CG;var GM=false;var LM=false;var NM=0x000000;var UM=false;var YM=0x000000;var cM=0;var fM=0;var iM;var mM;var oM=true;var qM=100;var sM=100;var vM=null;var aK=null;DJ(){ML=new gE("Arial",12,0x000000);iM=new List<String>();mM=new List<aE>();} get type=>IK; get width=>qM; get height=>sM; set text( g){eK=g;oM=true;} set QC( g){ML=g;rK=ML.color;oM=true;} set wordWrap( g){GM=g;oM=true;} set width( g){qM=g;oM=true;} set height( g){sM=g;oM=true;} CC( g,[ returnRectangle]){return lD(g,qM,sM,returnRectangle);} HC( g, h){if(g>=0&&h>=0&&g<qM&&h<sM)return this;return null;} OB( g){LO();g.aK.drawImage(vM,0.0,0.0);} MO(){iM.clear();mM.clear();if(GM==false){iM.add(eK);}else{for(String n in eK.replaceAll('\r','').split('\n')){var h=new StringBuffer();var i=0;var g="";for(String j in n.split(' ')){i=h.length;h.write((i>0)?" ${j}":j);g=h.toString();if(aK.measureText(g).width>qM){if(i>0){g=g.substring(0,i);}else{j="";}iM.add(g);h=new StringBuffer();h.write(j);}}if(h.isEmpty==false){iM.add(h.toString());}}}cM=0;fM=0;for(String g in iM){var l=aK.measureText(g);var m=0;if(ML.align==LC.SD||ML.align==LC.RG)m=(qM-l.width)/2;if(ML.align==LC.yE||ML.align==LC.LG)m=qM-l.width;var k=new aE(m,l.width,ML.size,0,0,0);mM.add(k);cM=gB.max(cM,k.width);fM=fM+k.height;}} LO(){if(oM){oM=false;var j=qM.ceil().toInt();var i=sM.ceil().toInt();if(vM==null){vM=new VB.CanvasElement(width:j,height:i);aK=vM.context2d;}if(vM.width!=j)vM.width=j;if(vM.height!=i)vM.height=i;var g=new StringBuffer();g.write(ML.italic?"italic ":"normal ");g.write("normal ");g.write(ML.bold?"bold ":"normal ");g.write("${ML.size}px ");g.write("${ML.font},sans-serif");aK.font=g.toString();aK.textAlign="start";aK.textBaseline="top";aK.fillStyle=jC(rK);MO();if(LM){aK.fillStyle=jC(NM);aK.fillRect(0,0,qM,sM);}else{aK.clearRect(0,0,qM,sM);}var k=0;for(int h=0;h<iM.length;h++ ){var l=mM[h];aK.fillStyle=jC(rK);aK.fillText(iM[h],l.x,k);k+= l.height;}if(UM){aK.strokeStyle=jC(YM);aK.lineWidth=1;aK.strokeRect(0,0,qM,sM);}}}}class wF{static const  NG="none";}class yF{static const  CG="dynamic";}class gE{var font;var size;var color;var bold;var italic;var underline;var align;var leftMargin;var rightMargin;var indent;var leading;var letterSpacing=0;var JJ=0;var KJ=false;var VJ=false;gE(this.font,this.size,this.color,{this.bold: false,this.italic: false,this.underline: false,this.align: "left",this.leftMargin: 0,this.rightMargin: 0,this.indent: 0,this.leading: 0});}class PD extends hB{var bK;PD(){if(hC.yC==null)throw new UnsupportedError("This browser does not support Web Audio API.");}static  hD( n){var h=new PD();var k=hB.JF(n);var g=new TB.Completer<hB>();VB.HttpRequest.request(k,responseType:'arraybuffer').then((i){var j=i.response;var m=hC.yC;m.decodeAudioData(j,( l){h.bK=l;g.complete(h);},(o){g.completeError(new StateError("Failed to decode audio."));});}).catchError((o){g.completeError(new StateError("Failed to load audio."));});return g.future;} get length{return bK.duration;} play([ loop=false, soundTransform]){if(soundTransform==null)soundTransform=new ZB();return new wI(this,loop,soundTransform);}}class aE{var pH;var sH;var height;var leading;var width;var x;aE(this.x,this.width,this.height,this.pH,this.sH,this.leading);}class XC{static const  BG=0;static const  GG=1;static const  yE=2;static const  TG=3;static const  uE=4;}class LC{static const  SD="center";static const  LG="end";static const  RG="justify";static const  yE="right";}class iB{static const  RD="auto";static const  UD="arrow";static const  VD="button";static const  VG="hand";static const  WG="ibeam";static const  ZG="wait";}class yB{static const  xC=0xFF000000;static const  jG=0xFF0000FF;static const  BH=0xFFA9A9A9;static const  MH=0xFF008000;static const  NF=0xFFFF0000;static const  gH=0xFFFFFFFF;}class bE{static const  NG="none";static const  SG="touchPoint";}class WE extends hB{WE(){}static  hD( g){return new TB.Future<hB>.of(()=>new WE());} get length{return double.NAN;} play([ loop=false, soundTransform]){if(soundTransform==null){soundTransform=new ZB();}return new CJ(this,loop,soundTransform);}}class hC{static var eG=vG();static var yC=FH();static var EF=GH();static  vG(){var h=(yC!=null)?"WebAudioApi":"AudioElement";var g=VB.window.navigator.userAgent;if(g.contains("IEMobile"))if(g.contains("9.0")||g.contains("10.0"))h="Mock";if(g.contains("iPhone")||g.contains("iPad")||g.contains("iPod"))if(g.contains("OS 3")||g.contains("OS 4")||g.contains("OS 5"))h="Mock";if(EF.length==0)h="Mock";print("dartflash: supported audio engine is: ${h}");return h;}static  FH(){if(VE.AudioContext.supported)return new VE.AudioContext();return null;}static  GH(){var g=new List<String>();var h=new VB.AudioElement();var i=["maybe","probably"];if(i.indexOf(h.canPlayType("audio/ogg",""))!=-1)g.add("ogg");if(i.indexOf(h.canPlayType("audio/mpeg",""))!=-1)g.add("mp3");if(i.indexOf(h.canPlayType("audio/wav",""))!=-1)g.add("wav");print("dartflash: supported audio types are: ${g}");return g;}}class cE{final  XK=new List<vF>();clear()=>XK.clear();beginPath()=>XK.add(new vF("beginPath"));closePath()=>XK.add(new vF("closePath"));moveTo( h, g)=>XK.add(new vF("moveTo",[h,g]));lineTo( h, g)=>XK.add(new vF("lineTo",[h,g]));arcTo( k, i, g, h, j)=>XK.add(new vF("arcTo",[k,i,g,h,j]));quadraticCurveTo( j, i, g, h)=>XK.add(new vF("quadraticCurveTo",[j,i,g,h]));bezierCurveTo( h, k, l, i, g, j)=>XK.add(new vF("bezierCurveTo",[h,k,l,i,g,j]));arc( l, g, j, i, h, k)=>XK.add(new vF("arc",[l,g,j,i,h,k]));rect( i, g, h, j)=>XK.add(new vF("rect",[i,g,h,j]));jF( g,[ width=1, joints=rF.HG, caps=qF.HG])=>XK.add(new vF("strokeColor",[ZD(g),width,joints,caps]));wH( g)=>XK.add(new vF("fillColor",[ZD(g)])); OB( k){var h=k.context;h.save();for(var j in XK){var g=j.arguments;switch (j.name){case "beginPath":h.beginPath();break;case "closePath":h.closePath();break;case "moveTo":h.moveTo(g[0],g[1]);break;case "lineTo":h.lineTo(g[0],g[1]);break;case "arcTo":h.arcTo(g[0],g[1],g[2],g[3],g[4]);break;case "quadraticCurveTo":h.quadraticCurveTo(g[0],g[1],g[2],g[3]);break;case "bezierCurveTo":h.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case "arc":h.arc(g[0],g[1],g[2],g[3],g[4],g[5]);break;case "rect":h.rect(g[0],g[1],g[2],g[3]);break;case "strokeColor":h.strokeStyle=g[0];h.lineWidth=g[1];h.lineJoin=g[2];h.lineCap=g[3];h.stroke();break;case "strokeGradient":h.strokeStyle=g[0].NO(h);h.lineWidth=g[1];h.lineJoin=g[2];h.lineCap=g[3];h.stroke();break;case "strokePattern":h.strokeStyle=g[0].OO(h);h.lineWidth=g[1];h.lineJoin=g[2];h.lineCap=g[3];NB i=g[0].lK;if(i!=null){h.save();h.transform(i.a,i.b,i.c,i.d,i.eB,i.fB);h.stroke();h.restore();}else{h.stroke();}break;case "fillColor":h.fillStyle=g[0];h.fill();break;case "fillGradient":h.fillStyle=g[0].SJ(h);h.fill();break;case "fillPattern":h.fillStyle=g[0].TJ(h);NB i=g[0].lK;if(i!=null){h.save();h.transform(i.a,i.b,i.c,i.d,i.eB,i.fB);h.fill();h.restore();}else{h.fill();}break;}}h.restore();}}final  jE=new tF<List<AB>>(()=>new List<AB>());class ZE implements aB{final  hK;var tK=0.0;var GL=0.0;var SL=1;ZE( g, h):hK=g{GL=gB.max(h,0.0001);} pB( h){var g=tK+h;while (g>=GL&&SL>0){tK=GL;SL-- ;hK();g-= GL;}tK=g;return (SL>0);} get currentTime=>tK;}class uC extends MC{var sK;var dK;var cK;var uK;uC( g, i, h){sK=g;cK=i;uK=h;dK=g.bM(this);dK.loop=cK;this.GD=h;dK.play();} set GD( g){uK=g;if(dK!=null)dK.volume=(uK!=null)?uK.volume:1;} stop(){if(dK!=null){if(dK.ended==false)dK.pause();sK.oN(this);dK=null;}}}class ND implements aB{final  mK=new List<aB>();var NL=0;var aL=0.0; add( g){if(g==null)return;if(this.contains(g))return;if(NL==mK.length){mK.add(g);}else{mK[NL]=g;}NL++ ;} remove( h){if(h==null)return;for(int g=0;g<NL;g++ ){if(mK[g]==h){mK[g]=null;break;}}} contains( h){if(h==null)return false;for(int g=0;g<NL;g++ ){if(mK[g]==h){return true;}}return false;} XI( i){if(i==null)return;for(int g=0;g<NL;g++ ){var h=mK[g];if(h!=null&&h is tG){if(h.tH==i){mK[g]=null;}}}} RF( h, i){var g=new ZE(h,i);add(g);return g;} pB( k){aL+= k;var j=NL;var h=0;for(int g=0;g<j;g++ ){var i=mK[g];if(i==null)continue;if(i.pB(k)==false){mK[g]=null;continue;}if(h!=g){mK[h]=i;mK[g]=null;}h++ ;}if(h!=j){for(int g=j;g<NL;g++ ){mK[h++ ]=mK[g];mK[g]=null;}NL=h;}return true;}}class fE{var MK;var fK;var vK;var EL;var KL;var UL;var eL;var iL;var mL;var vL;var CM;fE( g, h){MK=g;fK=h;} get cI=>fK; get name=>MK; get BI=>vK; get CI=>EL; get AI=>KL; get yH=>UL; get offsetX=>eL; get offsetY=>iL; get SI=>mL; get RI=>vL; get ZI=>CM;}class pF{var name;var dB;var kF;pF(this.name,this.dB,this.kF);}class tF<iC>{final  QK=new List<iC>();final  wK;var JL=0;tF( g()):wK=g; UI(){if(JL==0){return wK();}else{JL-- ;return QK[JL];}}VI( g){if(JL==QK.length){QK.add(g);}else{QK[JL]=g;}JL++ ;}reset(){QK.clear();JL=0;}}class JB{var x;var y;JB(this.x,this.y);JB.cJ():this(0,0); get length=>gB.sqrt(this.x*this.x+this.y*this.y); add( g)=>new JB(this.x+g.x,this.y+g.y); BE( g){this.x=g.x;this.y=g.y;} equals( g)=>this.x==g.x&&this.y==g.y;}class DB{var x;var y;var width;var height;DB(this.x,this.y,this.width,this.height);DB.cJ():this(0,0,0,0); get left=>this.x; get top=>this.y; get right=>this.x+this.width; get bottom=>this.y+this.height; get size=>new JB(this.width,this.height); set top( g){this.y=g;} contains( g, h)=>(this.x<=g&&this.y<=h&&this.right>=g&&this.bottom>=h); equals( g)=>(this.x==g.x&&this.y==g.y&&this.width==g.width&&this.height==g.height); get isEmpty=>(this.width==0&&this.height==0); BE( g){this.x=g.x;this.y=g.y;this.width=g.width;this.height=g.height;} union( g){var i=gB.min(this.left,g.left);var j=gB.min(this.top,g.top);var h=gB.max(this.right,g.right);var k=gB.max(this.bottom,g.bottom);return new DB(i,h,h-i,k-j);}}class uF{var x;var y;var dF;uF(this.x,this.y,this.dF);}class NB{var JK,LK,NK,OK,SK,WK;var kK;NB.gJ():JK=1.0,LK=0.0,NK=0.0,OK=1.0,SK=0.0,WK=0.0,kK=1.0; get a=>JK; get b=>LK; get c=>NK; get d=>OK; get eB=>SK; get fB=>WK; get ZC=>kK; dI( g){return new JB(g.x*JK+g.y*NK+SK,g.x*LK+g.y*OK+WK);} concat( g){var m=JK;var p=LK;var q=NK;var o=OK;var l=SK;var n=WK;var u=kK;var j=g.a;var k=g.b;var i=g.c;var h=g.d;var v=g.eB;var t=g.fB;var CB=g.ZC;JK=(m*j+p*i).toDouble();LK=(m*k+p*h).toDouble();NK=(q*j+o*i).toDouble();OK=(q*k+o*h).toDouble();SK=(l*j+n*i+v).toDouble();WK=(l*k+n*h+t).toDouble();kK=(u*CB).toDouble();} LI(){JK=1.0;LK=0.0;NK=0.0;OK=1.0;SK=0.0;WK=0.0;kK=1.0;} UF(){var j=JK;var m=LK;var l=NK;var k=OK;var h=SK;var i=WK;var g=kK;JK=(k/g).toDouble();LK=-(m/g).toDouble();NK=-(l/g).toDouble();OK=(j/g).toDouble();SK=-(JK*h+NK*i).toDouble();WK=-(LK*h+OK*i).toDouble();kK=(1.0/g).toDouble();} IE( h, i, g, k, j, l){JK=h.toDouble();LK=i.toDouble();NK=g.toDouble();OK=k.toDouble();SK=j.toDouble();WK=l.toDouble();kK=(JK*OK-LK*NK).toDouble();} BE( g){JK=g.a.toDouble();LK=g.b.toDouble();NK=g.c.toDouble();OK=g.d.toDouble();SK=g.eB.toDouble();WK=g.fB.toDouble();kK=g.ZC.toDouble();} PF( h, g){var n=h.a;var q=h.b;var t=h.c;var p=h.d;var m=h.eB;var o=h.fB;var v=h.ZC;var k=g.a;var l=g.b;var j=g.c;var i=g.d;var CB=g.eB;var u=g.fB;var GB=g.ZC;JK=(n*k+q*j).toDouble();LK=(n*l+q*i).toDouble();NK=(t*k+p*j).toDouble();OK=(t*l+p*i).toDouble();SK=(m*k+o*j+CB).toDouble();WK=(m*l+o*i+u).toDouble();kK=(v*GB).toDouble();}}class sF{var KK;var ZK;var nK;var HL;var YL;sF(){KK=new ND();ZK=new List<kC>();nK=double.NAN;HL=vC.vE;YL=new dC(0);VB.window.requestAnimationFrame(aM);} get MI=>KK; aM( g){VB.window.requestAnimationFrame(aM);if(nK.isNaN)nK=g;if(nK>g)nK=g;var j=g-nK;var i=j/1000.0;if(j>=1){nK=g;YL.TK=i;HL.HN(YL);KK.pB(i);for(int h=0;h<ZK.length;h++ ){var k=ZK[h];k.VF();}}} nH( g){ZK.add(g);}}class WB{final  aK;final  BL=new List<NB>(100);final  ZL=new List<double>(100);var lL=0;WB.eJ( j,[ matrix]):aK=j{for(int h=0;h<100;h++ ){BL[h]=new NB.gJ();ZL[h]=1.0;}if(matrix!=null)BL[0].BE(matrix);var g=BL[0];var i=ZL[0];aK.setTransform(g.a,g.b,g.c,g.d,g.eB,g.fB);aK.globalAlpha=i;} get context=>aK; reset(){lL=0;var g=BL[0];var h=ZL[0];aK.setTransform(g.a,g.b,g.c,g.d,g.eB,g.fB);aK.globalAlpha=h;aK.clearRect(0,0,aK.canvas.width,aK.canvas.height);} gF( h){var i=lL;var j=lL+1;var n=BL[i];var g=BL[j];var o=ZL[i];var m=ZL[j]=h.ZM*o;g.PF(h.tN,n);aK.setTransform(g.a,g.b,g.c,g.d,g.eB,g.fB);aK.globalAlpha=m;lL=j;var k=h.gM;var l=h.jM;if(k!=null){aK.save();k.OB(this);}if(l!=null){l.OB(this);}else{h.OB(this);}if(k!=null){aK.restore();}lL=i;}}class gC{static const  RD="auto";static const  KG="stop";static const  qE="once";}class EB{static const  FG="added";static const  PG="addedToStage";static const  WD="enterFrame";static const  XG="removed";static const  bG="removedFromStage";static const  rG="complete";static const  IF="progress";var IK;var WN;var LN;var xK;var eN;var ON;var UN;EB( g,[ bubbles=false]){tM(g,bubbles);} tM( g,[ bubbles=false]){IK=g;WN=bubbles;LN=xB.NC;xK=null;eN=null;ON=false;UN=false;} get ID=>ON; get type=>IK; get bubbles=>WN; get zD=>true; get target=>xK;}class xB{static const  kE=1;static const  NC=2;static const  QG=3;}class fC{static const  DG="json";static const  wC="jsonarray";}class vC<iC extends EB>{final  YK=new List<eC>();var PL=0;static var vE=new vC<dC>(); SM( g){for(int h=0;h<PL;h++ )if(YK[h]==g)return;if(PL==YK.length)YK.add(g);else YK[PL]=g;PL++ ;} HN( j){j.LN=xB.NC;j.ON=false;j.UN=false;var k=PL;var i=0;for(int g=0;g<k;g++ ){var h=YK[g];if(h==null)continue;if(h.EM==0){YK[g]=null;continue;}j.xK=h.xK;j.eN=h.xK;h.HN(j);if(i!=g){YK[i]=h;YK[g]=null;}i++ ;}if(i!=k){for(int g=k;g<PL;g++ ){YK[i++ ]=YK[g];YK[g]=null;}PL=i;}}}class eC<iC extends EB> extends TB.Stream<iC>{final  xK;final  jK;final  XL;final  nL=new List<EG>();var EM=0;eC(this.xK,this.jK,this.XL); get isBroadcast=>true; asBroadcastStream()=>this; listen( h( event),{ onError( error), onDone(), unsubscribeOnError}){var g=new EG<iC>(this,h);if(EM==nL.length)nL.add(g);else nL[EM]=g;EM++ ;if(jK==EB.WD&&XL==false)vC.vE.SM(this);return g;} nM( h){for(int g=0;g<EM;g++ ){if(nL[g]==h){nL[g]=null;break;}}} HN( k){var j=EM;var h=0;for(int g=0;g<j;g++ ){var i=nL[g];if(i==null)continue;i.qL(k);if(h!=g){nL[h]=i;nL[g]=null;}h++ ;}if(h!=j){for(int g=j;g<EM;g++ ){nL[h++ ]=nL[g];nL[g]=null;}EM=h;}}}class bB<iC extends EB>{final  jK;const bB(this.jK); forTarget( g,{ useCapture: false}){return g.wL(jK,useCapture);}}class YE{var target=null;var GC=false;var AE=0;var lC=0;var YF,aF;var WF,XF;YE(this.YF,this.aF,this.WF,this.XF);}class dC extends EB{var TK;dC( g):super(EB.WD,false){TK=g;} get bF=>TK; get zD=>false;}class w extends EB{static const  mE="click";static const  OG="doubleClick";static const  rE="mouseDown";static const  xE="mouseUp";static const  AF="mouseMove";static const  BF="mouseOut";static const  CF="mouseOver";static const  DF="mouseWheel";static const  FF="middleClick";static const  lG="middleMouseDown";static const  nG="middleMouseUp";static const  GF="rightClick";static const  sG="rightMouseDown";static const  xG="rightMouseUp";var EN,GN;var JN,KN;var nN;var OM;var dM;var RM;var VM;var pN;var qN;var rN;w( g,[ bubbles=false]):super(g,bubbles){tM(g,bubbles);} tM( g,[ bubbles=false]){super.tM(g,bubbles);EN=GN=0;JN=KN=0;nN=false;OM=false;dM=false;RM=false;VM=false;pN=0;qN=0;rN=0;}set sN( g){EN=g.x;GN=g.y;}set vN( g){JN=g.x;KN=g.y;} get GC=>nN; get altKey=>OM; get ctrlKey=>RM; get shiftKey=>VM; get lC=>pN; get deltaX=>qN; get deltaY=>rN;}class wB extends EB{static const  TD="keyDown";static const  oE="keyUp";var OM;var RM;var VM;var XM;var dM;var hM;var kM;var lM;wB( g,[ bubbles=false]):super(g,bubbles){tM(g,bubbles);} tM( g,[ bubbles=false]){super.tM(g,bubbles);OM=false;RM=false;VM=false;XM=false;dM=false;hM=0;kM=0;lM=0;} get altKey=>OM; get ctrlKey=>RM; get shiftKey=>VM; get charCode=>hM; get keyCode=>kM; get keyLocation=>lM;}class vF{var name;var arguments;vF(this.name,[this.arguments]);}class RB extends EB{static const  lE="touchBegin";static const  pE="touchEnd";static const  sE="touchCancel";static const  zE="touchMove";static const  cG="touchOver";static const  dG="touchOut";var AN;var CN;var EN,GN;var JN,KN;var OM;var dM;var RM;var VM;var QN;var TN;var VN;RB( g,[ bubbles=false]):super(g,bubbles){tM(g,bubbles);} tM( g,[ bubbles=false]){super.tM(g,bubbles);AN=0;CN=false;EN=GN=0;JN=KN=0;OM=false;dM=false;RM=false;VM=false;QN=1.00;TN=0;VN=0;}set sN( g){EN=g.x;GN=g.y;}set vN( g){JN=g.x;KN=g.y;} get JD=>AN; get altKey=>OM; get ctrlKey=>RM; get shiftKey=>VM;}abstract class WC{ apply( h, i, j, g);}class BJ extends WC{var blurX;var blurY;BJ([this.blurX=4,this.blurY=4]){if(blurX<1||blurY<1)throw new ArgumentError("Error #9004: The minimum blur size is 1.");if(blurX>128||blurY>128)throw new ArgumentError("Error #9004: The maximum blur size is 128.");} apply( TC, q, IC, rB){var JC=TC.hN();var KB=JC.getImageData(q.x,q.y,q.width,q.height);var sB=KB.data;var v=KB.width;var XB=KB.height;var YB=blurX*blurX;var tB=blurY*blurY;var DC=(1<<22)~/YB;var UC=(1<<22)~/tB;var l=blurX;var uB=blurX*2;var u=blurY;var vB=blurY*2;var LB=v+uB;var CB=XB+vB;var EC=v*4;var GB=LB*4;var SB=IC.hN();var PB=SB.createImageData(LB,CB);var t=PB.data;var j=new List<int>(1024);IH(sB);for(int i=0;i<4;i++ ){for(int h=0;h<v;h++ ){var k=0,m=tB>>1;var n=h*4+i;var o=(h+l)*4+i;for(int g=0;g<CB;g++ ){t[o]=(m*UC)>>22;o+= GB;if(g>=vB){k-= 2*j[g&1023]-j[(g-u)&1023];}else if(g>=u){k-= 2*j[g&1023];}var p=(g<XB)?sB[n]:0;j[(g+u)&1023]=p;m+= k+= p;n+= EC;}}}for(int i=0;i<4;i++ ){for(int g=0;g<CB;g++ ){var k=0,m=YB>>1;var n=g*GB+l*4+i;var o=g*GB+i;for(int h=0;h<LB;h++ ){t[o]=(m*DC)>>22;o+= 4;if(h>=uB){k-= 2*j[h&1023]-j[(h-l)&1023];}else if(h>=l){k-= 2*j[h&1023];}var p=(h<v)?t[n]:0;j[(h+l)&1023]=p;m+= k+= p;n+= 4;}}}PH(t);SB.putImageData(PB,rB.x-l,rB.y-u);}}class AJ extends WC{final  lK;AJ.iJ():lK=[0.212671,0.715160,0.072169,0,0,0.212671,0.715160,0.072169,0,0,0.212671,0.715160,0.072169,0,0,0,0,0,1,0];AJ.jJ():lK=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0]; apply( IC, m, JC, DC){var q=IC.hN().getImageData(m.x,m.y,m.width,m.height);var h=q.data;var rB=(lK[00]*65536).toInt();var PB=(lK[01]*65536).toInt();var EC=(lK[02]*65536).toInt();var p=(lK[03]*65536).toInt();var sB=(lK[04]*65536).toInt();var uB=(lK[05]*65536).toInt();var SB=(lK[06]*65536).toInt();var vB=(lK[07]*65536).toInt();var v=(lK[08]*65536).toInt();var n=(lK[09]*65536).toInt();var t=(lK[10]*65536).toInt();var u=(lK[11]*65536).toInt();var XB=(lK[12]*65536).toInt();var tB=(lK[13]*65536).toInt();var GB=(lK[14]*65536).toInt();var CB=(lK[15]*65536).toInt();var YB=(lK[16]*65536).toInt();var KB=(lK[17]*65536).toInt();var o=(lK[18]*65536).toInt();var LB=(lK[19]*65536).toInt();if(OC){for(int g=0;g<=h.length-4;g+= 4){var k=h[g+0];var l=h[g+1];var j=h[g+2];var i=h[g+3];h[g+0]=((rB*k)+(PB*l)+(EC*j)+(p*i)+sB)>>16;h[g+1]=((uB*k)+(SB*l)+(vB*j)+(v*i)+n)>>16;h[g+2]=((t*k)+(u*l)+(XB*j)+(tB*i)+GB)>>16;h[g+3]=((CB*k)+(YB*l)+(KB*j)+(o*i)+LB)>>16;}}else{for(int g=0;g<=h.length-4;g+= 4){var i=h[g+0];var j=h[g+1];var l=h[g+2];var k=h[g+3];h[g+0]=((CB*k)+(YB*l)+(KB*j)+(o*i)+LB)>>16;h[g+1]=((t*k)+(u*l)+(XB*j)+(tB*i)+GB)>>16;h[g+2]=((uB*k)+(SB*l)+(vB*j)+(v*i)+n)>>16;h[g+3]=((rB*k)+(PB*l)+(EC*j)+(p*i)+sB)>>16;}}JC.hN().putImageData(q,DC.x,DC.y);}}class zI extends WC{var distance;var angle;var color;var alpha;var blurX;var blurY;var strength;var inner;var knockout;var hideObject;zI([this.distance=4.0,this.angle=gB.PI/4,this.color=0,this.alpha=1.0,this.blurX=4,this.blurY=4,this.strength=1.0,this.inner=false,this.knockout=false,this.hideObject=false]){if(blurX<1||blurY<1)throw new ArgumentError("Error #9004: The minimum blur size is 1.");if(blurX>128||blurY>128)throw new ArgumentError("Error #9004: The maximum blur size is 128.");} apply( ME, m, NE, CB){var rB=ME.hN();var OE=rB.getImageData(m.x,m.y,m.width,m.height);var PE=OE.data;var p=m.width;var XB=m.height;var UC=blurX*blurX;var EC=blurY*blurY;var QE=(1<<22)~/UC;var RE=(1<<22)~/EC;var n=blurX;var TC=blurX*2;var GB=blurY;var DC=blurY*2;var LB=p+TC;var SB=XB+DC;var SE=p*4;var YB=LB*4;var PB=OC?3:0;var v=NE.hN();var sB=v.createImageData(LB,SB);var h=sB.data;var k=new List<int>(1024);for(int i=0;i<p;i++ ){var l=0,t=EC>>1;var u=i*4+PB;var o=(i+n)*4+PB;for(int j=0;j<SB;j++ ){h[o]=(t*RE)>>22;o+= YB;if(j>=DC){l-= 2*k[j&1023]-k[(j-GB)&1023];}else if(j>=GB){l-= 2*k[j&1023];}var q=(j<XB)?PE[u]:0;k[(j+GB)&1023]=q;t+= l+= q;u+= SE;}}for(int j=0;j<SB;j++ ){var l=0,t=UC>>1;var u=j*YB+n*4+PB;var o=j*YB+PB;for(int i=0;i<LB;i++ ){h[o]=(t*QE)>>22;o+= 4;if(i>=TC){l-= 2*k[i&1023]-k[(i-n)&1023];}else if(i>=n){l-= 2*k[i&1023];}var q=(i<p)?h[u]:0;k[(i+n)&1023]=q;t+= l+= q;u+= 4;}}var uB=(alpha*256).toInt();var pC=(color>>16)&0xFF;var qC=(color>>8)&0xFF;var tB=(color>>0)&0xFF;if(OC){for(var g=0;g<=h.length-4;g+= 4){h[g+0]=pC;h[g+1]=qC;h[g+2]=tB;h[g+3]=(h[g+3]*uB)>>8;}}else{for(var g=0;g<=h.length-4;g+= 4){h[g+0]=(h[g+0]*uB)>>8;h[g+1]=tB;h[g+2]=qC;h[g+3]=pC;}}var IC=CB.x;var vB=CB.y;var JC=CB.x-n+(this.distance*gB.cos(this.angle)).round().toInt();var rC=CB.y-GB+(this.distance*gB.sin(this.angle)).round().toInt();var TE=new DB(IC,vB,p,XB);var UE=new DB(JC,rC,LB,SB);var KB=TE.union(UE);v.setTransform(1,0,0,1,0,0);v.clearRect(KB.x,KB.y,KB.width,KB.height);v.putImageData(sB,JC,rC);if(this.hideObject==false)v.drawImage(rB.canvas,IC,vB);}}class yI extends WC{var color;var alpha;var blurX;var blurY;var strength;var inner;var knockout;var hideObject;yI([this.color=0,this.alpha=1.0,this.blurX=4,this.blurY=4,this.strength=2.0,this.inner=false,this.knockout=false,this.hideObject=false]){if(blurX<1||blurY<1)throw new ArgumentError("Error #9004: The minimum blur size is 1.");if(blurX>128||blurY>128)throw new ArgumentError("Error #9004: The maximum blur size is 128.");} apply( ME, m, NE, CB){var rB=ME.hN();var OE=rB.getImageData(m.x,m.y,m.width,m.height);var PE=OE.data;var p=m.width;var XB=m.height;var UC=blurX*blurX;var EC=blurY*blurY;var QE=(1<<22)~/UC;var RE=(1<<22)~/EC;var n=blurX;var TC=blurX*2;var GB=blurY;var DC=blurY*2;var LB=p+TC;var SB=XB+DC;var SE=p*4;var YB=LB*4;var PB=OC?3:0;var v=NE.hN();var sB=v.createImageData(LB,SB);var h=sB.data;var k=new List<int>(1024);for(int i=0;i<p;i++ ){var l=0,t=EC>>1;var u=i*4+PB;var o=(i+n)*4+PB;for(int j=0;j<SB;j++ ){h[o]=(t*RE)>>22;o+= YB;if(j>=DC){l-= 2*k[j&1023]-k[(j-GB)&1023];}else if(j>=GB){l-= 2*k[j&1023];}var q=(j<XB)?PE[u]:0;k[(j+GB)&1023]=q;t+= l+= q;u+= SE;}}for(int j=0;j<SB;j++ ){var l=0,t=UC>>1;var u=j*YB+n*4+PB;var o=j*YB+PB;for(int i=0;i<LB;i++ ){h[o]=(t*QE)>>22;o+= 4;if(i>=TC){l-= 2*k[i&1023]-k[(i-n)&1023];}else if(i>=n){l-= 2*k[i&1023];}var q=(i<p)?h[u]:0;k[(i+n)&1023]=q;t+= l+= q;u+= 4;}}var uB=(alpha*256).toInt();var pC=(color>>16)&0xFF;var qC=(color>>8)&0xFF;var tB=(color>>0)&0xFF;if(OC){for(var g=0;g<=h.length-4;g+= 4){h[g+0]=pC;h[g+1]=qC;h[g+2]=tB;h[g+3]=(h[g+3]*uB)>>8;}}else{for(var g=0;g<=h.length-4;g+= 4){h[g+0]=(h[g+0]*uB)>>8;h[g+1]=tB;h[g+2]=qC;h[g+3]=pC;}}var IC=CB.x;var vB=CB.y;var JC=CB.x-n;var rC=CB.y-GB;var TE=new DB(IC,vB,p,XB);var UE=new DB(JC,rC,LB,SB);var KB=TE.union(UE);v.setTransform(1,0,0,1,0,0);v.clearRect(KB.x,KB.y,KB.width,KB.height);v.putImageData(sB,JC,rC);if(this.hideObject==false)v.drawImage(rB.canvas,IC,vB);}}class ZB{var volume;var pan;var WJ=1;var XJ=0;var aJ=1;var ZJ=0;ZB([this.volume=1,this.pan=0]);}abstract class IB extends AB{var uH=false;var ZF=true;var bJ=true;var tabIndex=0;static const  aG=const bB<w>(w.BF);static const  gG=const bB<w>(w.CF);static const  mG=const bB<w>(w.AF);static const  pG=const bB<w>(w.rE);static const  yG=const bB<w>(w.xE);static const  LH=const bB<w>(w.DF); get onMouseOut=>IB.aG.forTarget(this); get onMouseOver=>IB.gG.forTarget(this); get onMouseMove=>IB.mG.forTarget(this); get onMouseDown=>IB.pG.forTarget(this); get onMouseUp=>IB.yG.forTarget(this); get onMouseWheel=>IB.LH.forTarget(this);static const  UH=const bB<RB>(RB.zE);static const  WH=const bB<RB>(RB.pE);static const  YH=const bB<RB>(RB.sE); get onTouchMove=>IB.UH.forTarget(this); get onTouchEnd=>IB.WH.forTarget(this); get onTouchCancel=>IB.YH.forTarget(this);static const  cH=const bB<wB>(wB.oE);static const  dH=const bB<wB>(wB.TD); get onKeyUp=>IB.cH.forTarget(this); get onKeyDown=>IB.dH.forTarget(this);}abstract class UB extends IB{final  FL=new List<AB>();var bL=true;var kL=true; get GE=>FL.length; BB( g){if(g.parent==this){var h=FL.indexOf(g);FL.removeAt(h);FL.add(g);}else{xD(g,FL.length);}} xD( g, h){if(h<0||h>FL.length)throw new ArgumentError("Error #2006: The supplied index is out of bounds.");if(g==this)throw new ArgumentError("Error #2024: An object cannot be added as a child of itself.");if(g.parent==this){FL.removeAt(FL.indexOf(g));if(h>FL.length)h-- ;FL.insert(h,g);}else{g.HE();g.wN(this);FL.insert(h,g);g.dispatchEvent(new EB(EB.FG,true));if(this.HD!=null)yN(g,new EB(EB.PG));}} eF( h){var g=FL.indexOf(h);if(g==-1)throw new ArgumentError("Error #2025: The supplied DisplayObject must be a child of the caller.");WI(g);} WI( g){if(g<0||g>=FL.length)throw new ArgumentError("Error #2006: The supplied index is out of bounds.");var h=FL[g];h.dispatchEvent(new EB(EB.XG,true));if(this.HD!=null)yN(h,new EB(EB.bG));h.wN(null);FL.removeAt(g);} EI( g){if(g<0||g>=FL.length)throw new ArgumentError("Error #2006: The supplied index is out of bounds.");return FL[g];} bI( g){FL.sort(g);} contains( g){for(;g!=null;g=g.pM)if(g==this)return true;return false;} CC( n,[ returnRectangle]){if(returnRectangle==null)returnRectangle=new DB.cJ();if(FL.length==0)return super.CC(n,returnRectangle);var h=double.INFINITY;var i=double.INFINITY;var k=double.NEGATIVE_INFINITY;var j=double.NEGATIVE_INFINITY;var o=FL.length;for(int l=0;l<FL.length;l++ ){var m=FL[l];rM.PF(m.tN,n);var g=m.CC(rM,returnRectangle);if(g.left<h)h=g.left;if(g.top<i)i=g.top;if(g.right>k)k=g.right;if(g.bottom>j)j=g.bottom;}returnRectangle.x=h;returnRectangle.y=i;returnRectangle.width=k-h;returnRectangle.height=j-i;return returnRectangle;} HC( o, p){var l=null;for(int j=FL.length-1;j>=0;j-- ){var i=FL[j];if(i.visible){var g=i.tN;var m=o-g.eB;var k=p-g.fB;var q=(g.d*m-g.c*k)/g.ZC;var n=(g.a*k-g.b*m)/g.ZC;var h=i.HC(q,n);if(h!=null){if(h is IB)if(h.ZF)return bL?h:this;l=this;}}}return l;} OB( i){for(int g=0;g<FL.length;g++ ){var h=FL[g];if(h.visible)i.gF(h);}} yN( g, j){g.dispatchEvent(j);if(g is UB){var i=new List<AB>.from(g.FL,growable:false);for(int h=0;h<i.length;h++ )yN(i[h],j);}}}abstract class hB{static  hD( g){var h=hC.eG;if(h=="WebAudioApi")return PD.hD(g);if(h=="AudioElement")return OD.hD(g);return WE.hD(g);} get length; play([ loop=false, soundTransform]);static  JF( g){var m=new RegExp(r"\.(ogg|mp3|wav)$",multiLine:false,caseSensitive:false);var i=m.firstMatch(g);var h=hC.EF;if(i==null)throw new ArgumentError("Unsupported file extension.");if(h.length==0)throw new UnsupportedError("This browser supports no known audio codec.");var j=i.group(1).toLowerCase();if(h.indexOf(j)==-1){var l=g.substring(0,g.length-j.length);var k=h[0];g="${l}${k}";}return g;}}class wI extends MC{var oK;var uK;var cK;var fL;var pL;wI( j, h, i){oK=j;cK=h;uK=i;var g=hC.yC;fL=g.createGain();fL.connect(g.destination,0,0);fL.gain.value=(uK!=null)?gB.pow(uK.volume,2):1;pL=g.createBufferSource();pL.buffer=oK.bK;pL.loop=h;pL.connect(fL,0,0);pL.start(0);} set GD( g){uK=g;fL.gain.value=(uK!=null)?gB.pow(uK.volume,2):1;} stop(){pL.stop(0);}}class OD extends hB{var dK;var zK;var WL;OD(){WL=new List<uC>();dK=new VB.AudioElement();dK.onEnded.listen(JM);zK=new List<VB.AudioElement>();zK.add(dK);VB.document.body.children.add(dK);}static  hD( o){var k=new OD();var g=k.dK;var i=new TB.Completer<hB>();var h;var j;n(m){h.cancel();j.cancel();i.complete(k);}l(m){h.cancel();j.cancel();i.completeError(new StateError("Failed to load audio."));}h=g.onCanPlayThrough.listen(n);j=g.onError.listen(l);g.src=hB.JF(o);g.load();return i.future;} get length{return dK.duration;} play([ loop=false, soundTransform]){if(soundTransform==null)soundTransform=new ZB();return new uC(this,loop,soundTransform);} bM( h){var g;if(zK.length==0){g=dK.clone(true);g.onEnded.listen(JM);}else{g=zK.removeAt(0);}WL.add(h);return g;} oN( g){var h=g.dK;var i=WL.indexOf(g);WL.removeAt(i);zK.add(h);if(dK.currentTime>0&&dK.ended==false)dK.currentTime=0;} JM(j){var i=j.target;var g=null;for(int h=0;h<WL.length&&g==null;h++ )if(WL[h].dK==i)g=WL[h];if(g!=null)g.stop();}}class hE extends UB{var LJ=false;var LE=false;}class sC extends AB{var bitmapData;var pixelSnapping;var PC;sC([this.bitmapData=null,this.pixelSnapping="auto"]){PC=null;} CC( h,[ returnRectangle]){var g=(bitmapData!=null)?bitmapData.width:0;var i=(bitmapData!=null)?bitmapData.height:0;return lD(h,g,i,returnRectangle);} HC( g, h){if(bitmapData!=null&&g>=0.0&&h>=0.0&&g<bitmapData.width&&h<bitmapData.height)return this;return null;} OB( g){if(bitmapData!=null){if(PC==null)bitmapData.OB(g);else bitmapData.fF(g,PC);}}}class xI extends AB{var VK;xI(){VK=new cE();} get JI=>VK; CC( g,[ returnRectangle]){if(returnRectangle==null)returnRectangle=new DB.cJ();returnRectangle.x=g.eB;returnRectangle.y=g.fB;returnRectangle.width=0;returnRectangle.height=0;return returnRectangle;} HC( g, h){return null;} OB( g){VK.OB(g);}}abstract class VC{ OB( g);}class eE extends IB implements aB{var AL;var IL;var QL;var cL;var jL;var cK;var sL;var yL;var PC;eE( g,[ frameRate=30, loop=true]){AL=g;IL=frameRate;QL=0;cL=null;jL=false;cK=loop;sL=new EB(EB.IF);yL=new EB(EB.rG);PC=null;}static const  AH=const bB<EB>(EB.IF); get onProgress=>eE.AH.forTarget(this); get KE=>AL.length; set loop( g){cK=g;} play(){jL=true;cL=null;} stop(){jL=false;cL=null;} pB( j){if(jL==false)return true;if(cL==null){cL=0.0;iN(sL,this,this,xB.NC);}else{cL+= j;var i=1.0/IL;while (jL&&cL>=i){var h=QL;var g=cK?(h+1)%KE:gB.min(h+1,KE-1);QL=g;cL-= i;if(h!=g){iN(sL,this,this,xB.NC);if(QL!=g)return true;}if(h!=g&&g==KE-1&&cK==false){iN(yL,this,this,xB.NC);if(QL!=g)return true;}}}return true;} CC( h,[ returnRectangle]){var g=AL[QL];return lD(h,g.width,g.height,returnRectangle);} HC( g, h){var i=AL[QL];if(g>=0&&h>=0&&g<i.width&&h<i.height)return this;return null;} OB( g){var h=AL[QL];if(PC==null)h.OB(g);else h.fF(g,PC);}}class dE{var IK;var PK;var iK;var yK;dE.dJ( i, g, h, j){IK=0;PK=new DB(i,g,h,j);}dE.fJ( i, g, h){IK=1;iK=new uF(i,g,h);}dE.hJ( g){IK=2;yK=g;if(yK.length<3)throw new ArgumentError("A custom mask needs at least 3 points.");} OB( i){var g=i.context;g.beginPath();switch (IK){case 0:g.rect(PK.x,PK.y,PK.width,PK.height);break;case 1:g.arc(iK.x,iK.y,iK.dF,0,gB.PI*2.0,false);break;case 2:g.moveTo(yK[0].x,yK[0].y);for(int h=1;h<yK.length;h++ )g.lineTo(yK[h].x,yK[h].y);break;}g.clip();}}class zB{final  UK=new VB.ImageElement();final  OL=new List<fE>();static  hD( m, u){var l=new TB.Completer<zB>();var j=new zB();switch (u){case fC.DG:case fC.wC: n( k, g){var q=uG(k);var h=new fE(q,j);h.vK=g["frame"]["x"].toInt();h.EL=g["frame"]["y"].toInt();h.KL=g["frame"]["w"].toInt();h.UL=g["frame"]["h"].toInt();h.eL=g["spriteSourceSize"]["x"].toInt();h.iL=g["spriteSourceSize"]["y"].toInt();h.mL=g["sourceSize"]["w"].toInt();h.vL=g["sourceSize"]["h"].toInt();h.CM=g["rotated"] as bool;j.OL.add(h);}VB.HttpRequest.getString(m).then((t){var o=mF.parse(t);var i=o["frames"];var p=o["meta"];if(i is List)for(var g in i)n(g["filename"],g);if(i is Map)for(String k in i.keys)n(k,i[k]);j.UK..onLoad.listen((v)=>l.complete(j))..onError.listen((v)=>l.completeError(new StateError("Failed to load image.")))..src=KF(m,p["image"]);}).catchError((CB){l.completeError(new StateError("Failed to load json file."));});break;}return l.future;} get ED=>UK; KC( i){var h;for(int g=0;g<OL.length&&h==null;g++ )if(OL[g].name==i)h=new FB.lJ(OL[g]);if(h==null)throw new ArgumentError("TextureAtlasFrame not found: '${i}'");return h;} DI( i){var h=new List<FB>();for(int g=0;g<OL.length;g++ )if(OL[g].name.indexOf(i)==0)h.add(new FB.lJ(OL[g]));return h;} get zH{return OL.map((g)=>g.name).toList();}}class zF extends IB{zF();}class XE extends EB{static const  MG="textInput";var eK="";XE( g,[ bubbles=false]):super(g,bubbles){}}class FB implements VC{var gK;var pK;var DL;var TL;var aK;var oL;var uL;var AM;var vK;var EL;var KL;var UL;FB( g, h,[ transparent=true, fillColor=0xFFFFFFFF]){gK=g;pK=h;DL=transparent;var i=new VB.CanvasElement(width:gK,height:pK);aK=i.context2d;aK.fillStyle=DL?ZD(fillColor):jC(fillColor);aK.fillRect(0,0,g,h);TL=i;oL=0;uL=0;AM=0;}FB.kJ( g){if(g==null)throw new ArgumentError();gK=g.naturalWidth;pK=g.naturalHeight;DL=true;TL=g;oL=0;uL=0;AM=0;}FB.lJ( g){gK=g.SI;pK=g.RI;DL=true;TL=g.cI.ED;oL=g.ZI?2:1;uL=g.offsetX;AM=g.offsetY;vK=g.BI;EL=g.CI;KL=g.AI;UL=g.yH;}static  hD( i){var h=new TB.Completer<FB>();var g=new VB.ImageElement();g.onLoad.listen((j)=>h.complete(new FB.kJ(g)));g.onError.listen((j)=>h.completeError(new StateError("Error loading image.")));g.src=i;return h.future;} get width=>gK; get height=>pK; oH( i, j, g, h){h.apply(i,j,this,g);} clear(){var g=hN();g.clearRect(0,0,gK,pK);} OB( h){var g=h.context;switch (oL){case 0:g.drawImage(TL,uL,AM);break;case 1:g.drawImageScaledFromSource(TL,vK,EL,KL,UL,uL,AM,KL,UL);break;case 2:g.transform(0.0,-1.0,1.0,0.0,uL,AM+UL);g.drawImageScaledFromSource(TL,vK,EL,UL,KL,0,0,UL,KL);break;}} fF( PB, g){var v=PB.context;if(g.width<=0.0||g.height<=0.0)return;switch (oL){case 0:v.drawImageScaledFromSource(TL,g.x-uL,g.y-AM,g.width,g.height,g.x+uL,g.y+AM,g.width,g.height);break;case 1:var j=vK;var h=EL;var p=j+KL;var q=h+UL;var l=vK-uL+g.x;var m=EL-AM+g.y;var u=l+g.width;var t=m+g.height;var o=(j>l)?j:l;var n=(h>m)?h:m;var CB=(p<u)?p:u;var LB=(q<t)?q:t;var KB=uL-j+o;var GB=AM-h+n;var k=CB-o;var i=LB-n;if(k>0.0&&i>0.0){v.drawImageScaledFromSource(TL,o,n,k,i,KB,GB,k,i);}break;case 2:var j=vK;var h=EL;var p=j+UL;var q=h+KL;var l=vK+AM-g.y+UL-g.height;var m=EL-uL+g.x;var u=l+g.height;var t=m+g.width;var o=(j>l)?j:l;var n=(h>m)?h:m;var CB=(p<u)?p:u;var LB=(q<t)?q:t;var KB=uL-h+n;var GB=AM+p-CB;var k=LB-n;var i=CB-o;if(k>0.0&&i>0.0){v.transform(0.0,-1.0,1.0,0.0,KB,GB+i);v.drawImageScaledFromSource(TL,o,n,i,k,0,0,i,k);}break;}} hN(){if(aK==null){var g=new VB.CanvasElement(width:gK,height:pK);aK=g.context2d;switch (oL){case 0:aK.drawImage(TL,uL,AM);break;case 1:aK.drawImageScaledFromSource(TL,vK,EL,KL,UL,uL,AM,KL,UL);break;case 2:aK.setTransform(0.0,-1.0,1.0,0.0,uL,AM+UL);aK.drawImageScaledFromSource(TL,vK,EL,UL,KL,0,0,UL,KL);aK.setTransform(1.0,0.0,0.0,1.0,0.0,0.0);break;}TL=g;oL=0;uL=0;AM=0;}return aK;}}typedef  AG<iC extends EB>( event);class EG<iC extends EB> extends TB.StreamSubscription<iC>{var gL;var qL;var tL;var zL;EG(this.gL,this.qL){tL=0;zL=false;} cancel(){if(zL==false){gL.nM(this);zL=true;qL=null;}} onError( g( error)){} get cN=>tL>0; pause([ resumeSignal]){tL++ ;if(resumeSignal!=null)resumeSignal.whenComplete(resume);} resume(){if(cN==false)throw new StateError("Subscription is not paused.");tL-- ;}}class EJ extends eE{EJ( g,[ frameRate=30, loop=true]):super(g,frameRate,loop);}class nE{var RL;nE(){RL=new Map<String,tC>();} PM( g){var j=g.kind;var h=g.name;var i="${j}.${h}";if(RL.containsKey(i))throw new StateError("ResourceManager already contains a resource called '${h}'");RL[i]=g;} xM( i, g){var h="${i}.${g}";if(RL.containsKey(h)==false)throw new StateError("ResourceManager does not contains a resource called '${g}'");return RL[h];} oB( i, h){var g=new tC("BitmapData",i,h);g.wM(FB.hD(h));PM(g);} HB( i, h){var g=new tC("Sound",i,h);g.wM(hB.hD(h));PM(g);} yD( j, h, i){var g=new tC("TextureAtlas",j,h);g.wM(zB.hD(h,i));PM(g);} mH( i, h){var g=new tC("FlumpLibrary",i,h);g.wM(AC.hD(h));PM(g);} load(){var h=this.TI.map((i)=>i.CL);return TB.Future.wait(h).then((j){var g=this.vH;if(g.length>0)throw new StateError("Failed to load ${g.length} resource(s).");return this;});} get TI{return RL.values.where((g)=>g.mC==null).toList();} get vH{return RL.values.where((g)=>g.error!=null).toList();} KC( g){return xM("BitmapData",g).mC;} TF( g){return xM("Sound",g).mC;} FE( g){return xM("TextureAtlas",g).mC;} FI( g){return xM("FlumpLibrary",g).mC;}} jC( g){var h=(g>>16)&0xFF;var i=(g>>8)&0xFF;var j=(g>>0)&0xFF;return "rgb(${h},${i},${j})";}class AC{var qK;var hL;var IL;final  xL=new List<vD>();final  IM=new List<kH>();static  hD( l){var i=new TB.Completer<AC>();VB.HttpRequest.getString(l).then((p){var h=mF.parse(p) as Map;var j=new List();var g=new AC();g.qK=l;g.hL=h["md5"];g.IL=h["frameRate"].toInt();for(var m in h["movies"] as List){var n=new vD(m,g);g.xL.add(n);}for(var o in h["textureGroups"] as List){var k=new kH(o,g);g.IM.add(k);j.add(k.CD.future);}TB.Future.wait(j).then((t){i.complete(g);}).catchError((q){i.completeError(new StateError("Failed to load image."));});}).catchError((q){i.completeError(new StateError("Failed to load json file."));});return i.future;} uN( h){for(var g in xL)if(g.id==h)return g;throw new ArgumentError("The movie '${h}' is not available.");} xN( g){for(var h in IM){if(h.DD.containsKey(g)){return h.DD[g];}}for(var i in xL){if(i.id==g){return new FJ(this,g);}}throw new ArgumentError("The symbol '${g}' is not available.");}}abstract class AB extends FC implements VC{var BM=0.0;var DM=0.0;var FM=0.0;var HM=0.0;var KM=1.0;var MM=1.0;var QM=0.0;var TM=0.0;var WM=0.0;var ZM=1.0;var eM=true;var gM=null;var jM=null;var MK="";var pM=null;final  rM=new NB.gJ();final  uM=new NB.gJ();final  yM=new NB.gJ();var BN=true;static const  HH=const bB<dC>(EB.WD); get NI=>AB.HH.forTarget(this); get x=>BM; get y=>DM; get kB=>FM; get qB=>HM; get lB=>KM; get mB=>MM; get skewX=>QM; get skewY=>TM; get nC=>WM; get alpha=>ZM; get visible=>eM; get name=>MK; get parent=>pM; get root{var g=this;while (g.pM!=null)g=g.pM;return g;} get HD{var g=this.root;if(g is kC)return g;return null;}set x( g){BM=g.toDouble();BN=true;}set y( g){DM=g.toDouble();BN=true;}set kB( g){FM=g.toDouble();BN=true;}set qB( g){HM=g.toDouble();BN=true;}set lB( g){KM=g.toDouble();BN=true;}set mB( g){MM=g.toDouble();BN=true;}set skewX( g){QM=g.toDouble();BN=true;}set skewY( g){TM=g.toDouble();BN=true;}set nC( g){WM=g.toDouble();BN=true;}set alpha( g){ZM=g.toDouble();BN=true;}set visible( g){eM=g;BN=true;}set mask( g){gM=g;} get width=>CC(tN).width; get height=>CC(tN).height; set width( h){this.lB=1;var g=this.width;this.lB=(g!=0.0)?h/g:1.0;} set height( h){this.mB=1;var g=this.height;this.mB=(g!=0.0)?h/g:1.0;} HE(){if(pM!=null)pM.eF(this);} get tN{if(BN){BN=false;var j=QM+WM;var i=TM+WM;if(j==0.0&&i==0.0){yM.IE(KM,0.0,0.0,MM,BM-FM*KM,DM-HM*MM);}else{var g,l,k,h;var m=gB.cos(j);var n=gB.sin(j);if(j==i){g=KM*m;l=KM*n;k=-MM*n;h=MM*m;}else{g=KM*gB.cos(i);l=KM*gB.sin(i);k=-MM*n;h=MM*m;}var p=BM-(FM*g+HM*k);var o=DM-(FM*l+HM*h);yM.IE(g,l,k,h,p,o);}}return yM;} CC( g,[ returnRectangle]){if(returnRectangle==null)returnRectangle=new DB.cJ();returnRectangle.x=g.eB;returnRectangle.y=g.fB;returnRectangle.width=0;returnRectangle.height=0;return returnRectangle;} HC( g, h){if(CC(uM).contains(g,h))return this;return null;} RC( h){rM.LI();for(AB g=this;g!=null;g=g.pM)rM.concat(g.tN);rM.UF();return rM.dI(h);} dispatchEvent( h){var g=null;if(h.zD||h.bubbles)for(AB j=pM;j!=null;j=j.pM)if(j.KI(h.type)){if(g==null)g=jE.UI() as List<AB>;g.add(j);}if(h.zD&&g!=null)for(int i=g.length-1;i>=0;i-- )if(h.ID==false)g[i].iN(h,this,g[i],xB.kE);if(h.ID==false)iN(h,this,this,xB.NC);if(h.bubbles&&g!=null)for(int i=0;i<g.length;i++ )if(h.ID==false)g[i].iN(h,this,g[i],xB.QG);if(g!=null){g.clear();jE.VI(g);}} wN( h){for(var g=h;g!=null;g=g.pM)if(g==this)throw new ArgumentError("Error #2150: An object cannot be added as a child to one of it's children (or children's children, etc.).");pM=h;} OB( g);}class tE{static var wE=false;static var XD=false;static var YD=0;static var iG=bE.NG;static var kG=new TB.StreamController<String>();static var oG=kG.stream.asBroadcastStream();static qG(){if(wE==false){wE=true;var g=VB.window.navigator.userAgent;if(g.contains("iPhone")||g.contains("iPad")||g.contains("iPod")){XD=true;YD=10;}if(g.contains("Android")){XD=true;YD=10;}if(g.contains("IEMobile")){XD=true;YD=10;}}}static  get KH{qG();return iG;}}class fG{static var hG=0;var JD=hG++ ;var target=null;var FD=false;fG(this.target,this.FD);} ZD( g){var h=(g>>24)&0xFF;var i=(g>>16)&0xFF;var j=(g>>8)&0xFF;var k=(g>>0)&0xFF;return "rgba(${i},${j},${k},${h/255.0})";}class s{static var aD;static  YC( g){return g;}static  HF( g){return 0.5-0.5*gB.cos(g*2.0*gB.PI);}static  wG( g){return 0.5+0.5*gB.cos(g*2.0*gB.PI);}static  zG( g){if(aD==null)aD=new gB.Random();if(g==0.0||g==1.0)return g;return aD.nextDouble();}static  bD( g){return g*g;}static  cD( g){g=1.0-g;return 1.0-g*g;}static  CH( g){g=g*2.0;return (g<1.0)?0.5*bD(g):0.5*cD(g-1.0)+0.5;}static  DH( g){g=g*2.0;return (g<1.0)?0.5*cD(g):0.5*bD(g-1.0)+0.5;}static  dD( g){return g*g*g;}static  eD( g){g=1.0-g;return 1.0-g*g*g;}static  MF( g){g=g*2.0;return (g<1.0)?0.5*dD(g):0.5*eD(g-1.0)+0.5;}static  JH( g){g=g*2.0;return (g<1.0)?0.5*eD(g):0.5*dD(g-1.0)+0.5;}static  fD( g){return g*g*g*g;}static  gD( g){g=1.0-g;return 1.0-g*g*g*g;}static  NH( g){g=g*2.0;return (g<1.0)?0.5*fD(g):0.5*gD(g-1.0)+0.5;}static  OH( g){g=g*2.0;return (g<1.0)?0.5*gD(g):0.5*fD(g-1.0)+0.5;}static  iD( g){return g*g*g*g*g;}static  jD( g){g=1.0-g;return 1.0-g*g*g*g*g;}static  QH( g){g=g*2.0;return (g<1.0)?0.5*iD(g):0.5*jD(g-1.0)+0.5;}static  RH( g){g=g*2.0;return (g<1.0)?0.5*jD(g):0.5*iD(g-1.0)+0.5;}static  kD( g){return 1.0-gB.sqrt(1.0-g*g);}static  mD( g){g=1.0-g;return gB.sqrt(1.0-g*g);}static  SH( g){g=g*2.0;return (g<1.0)?0.5*kD(g):0.5*mD(g-1.0)+0.5;}static  TH( g){g=g*2.0;return (g<1.0)?0.5*mD(g):0.5*kD(g-1.0)+0.5;}static  nD( g){return 1.0-gB.cos(g*(gB.PI/2.0));}static  oD( g){return gB.sin(g*(gB.PI/2.0));}static  VH( g){g=g*2.0;return (g<1.0)?0.5*nD(g):0.5*oD(g-1.0)+0.5;}static  ZH( g){g=g*2.0;return (g<1.0)?0.5*oD(g):0.5*nD(g-1.0)+0.5;}static  pD( g){if(g==0.0)return 0.0;return gB.pow(2.0,10.0*(g-1.0));}static  qD( g){if(g==1.0)return 1.0;return 1.0-gB.pow(2.0,-10.0*g);}static  aH( g){g=g*2.0;return (g<1.0)?0.5*pD(g):0.5*qD(g-1.0)+0.5;}static  bH( g){g=g*2.0;return (g<1.0)?0.5*qD(g):0.5*pD(g-1.0)+0.5;}static  rD( g){var h=1.70158;return g*g*((h+1.0)*g-h);}static  sD( g){var h=1.70158;g=g-1.0;return g*g*((h+1.0)*g+h)+1.0;}static  OF( g){g=g*2.0;return (g<1.0)?0.5*rD(g):0.5*sD(g-1.0)+0.5;}static  eH( g){g=g*2.0;return (g<1.0)?0.5*sD(g):0.5*rD(g-1.0)+0.5;}static  tD( g){if(g==0.0||g==1.0)return g;g=g-1.0;return -gB.pow(2.0,10.0*g)*gB.sin((g-0.3/4.0)*(2.0*gB.PI)/0.3);}static  zC( g){if(g==0.0||g==1.0)return g;return gB.pow(2.0,-10.0*g)*gB.sin((g-0.3/4.0)*(2.0*gB.PI)/0.3)+1;}static  fH( g){g=g*2.0;return (g<1.0)?0.5*tD(g):0.5*zC(g-1.0)+0.5;}static  hH( g){g=g*2.0;return (g<1.0)?0.5*zC(g):0.5*tD(g-1.0)+0.5;}static  uD( g){return 1.0-AD(1.0-g);}static  AD( g){if(g<1/2.75){return 7.5625*g*g;}else if(g<2/2.75){g=g-1.5/2.75;return 7.5625*g*g+0.75;}else if(g<2.5/2.75){g=g-2.25/2.75;return 7.5625*g*g+0.9375;}else{g=g-2.625/2.75;return 7.5625*g*g+0.984375;}}static  iH( g){g=g*2.0;return (g<1.0)?0.5*uD(g):0.5*AD(g-1.0)+0.5;}static  jH( g){g=g*2.0;return (g<1.0)?0.5*AD(g):0.5*uD(g-1.0)+0.5;}}class tG implements aB{final  zM;final  DN;final  IN=new List<pF>();var MN;var NN;var RN;var GL;var tK;var YN;var aN;var dN;tG( g, h,[ transitionFunction( ratio)]):zM=g,DN=(transitionFunction!=null)?transitionFunction:s.YC{tK=0.0;GL=gB.max(0.0001,h);YN=0.0;aN=false;dN=false;} jB( g, h){var i=['x','y','pivotX','pivotY','scaleX','scaleY','skewX','skewY','rotation','alpha'];if(i.indexOf(g)==-1)throw new ArgumentError("Error #9003: The supplied property ('${g}') is not supported at this time.");if(zM!=null&&dN==false)IN.add(new pF(g,0.0,h));} moveTo( h, g){jB('x',h);jB('y',g);} pB( l){if(tK<GL||dN==false){tK=tK+l;if(tK>GL)tK=GL;if(tK>=0.0){if(dN==false){dN=true;for(int i=0;i<IN.length;i++ ){var g=IN[i];switch (g.name){case 'x':g.dB=zM.x;break;case 'y':g.dB=zM.y;break;case 'pivotX':g.dB=zM.kB;break;case 'pivotY':g.dB=zM.qB;break;case 'scaleX':g.dB=zM.lB;break;case 'scaleY':g.dB=zM.mB;break;case 'skewX':g.dB=zM.skewX;break;case 'skewY':g.dB=zM.skewY;break;case 'rotation':g.dB=zM.nC;break;case 'alpha':g.dB=zM.alpha;break;}}if(MN!=null)MN();}var j=tK/GL;var k=DN(j);for(int i=0;i<IN.length;i++ ){var g=IN[i];var h=g.dB+k*(g.kF-g.dB);h=aN?h.round():h;switch (g.name){case 'x':zM.x=h;break;case 'y':zM.y=h;break;case 'pivotX':zM.kB=h;break;case 'pivotY':zM.qB=h;break;case 'scaleX':zM.lB=h;break;case 'scaleY':zM.mB=h;break;case 'skewX':zM.skewX=h;break;case 'skewY':zM.skewY=h;break;case 'rotation':zM.nC=h;break;case 'alpha':zM.alpha=h;break;}}if(NN!=null)NN();if(RN!=null&&tK==GL)RN();}}return tK<GL;} get tH=>zM; get currentTime=>tK;set QF( g){if(dN==false)tK=tK+YN-g;YN=g;} set onComplete( g()){RN=g;}} uG( g){var h=new RegExp(r"(.+?)(\.[^.]*$|$)",multiLine:false,caseSensitive:false);var i=h.firstMatch(g);return i.group(1);}class kC extends UB{var vM;var aK;var PN;var SN;var XN;var ZN;var bN;var fN;var gN;var jN;var kN;var lN;var mN;kC( h, g){MK=h;vM=g;vM.focus();aK=g.context2d;SN=new WB.eJ(aK);XN=gC.RD;ZN=iB.UD;QD.YG.listen(YG);gN=[new YE(w.rE,w.xE,w.mE,w.OG),new YE(w.lG,w.nG,w.FF,w.FF),new YE(w.sG,w.xG,w.GF,w.GF)];fN=null;bN=new JB(0,0);kN=new w(w.mE,true);vM.onMouseDown.listen(zN);vM.onMouseUp.listen(zN);vM.onMouseMove.listen(zN);vM.onMouseOut.listen(zN);vM.onMouseWheel.listen(AO);jN=new Map<int,fG>();mN=new RB(RB.lE,true);tE.oG.listen(FO);FO(null);lN=new wB(wB.TD,true);vM.onKeyDown.listen(IO);vM.onKeyUp.listen(IO);vM.onKeyPress.listen(JO);} get focus=>PN;KO(){throw new UnsupportedError("Error #2071: The Stage class does not implement this property or method.");}set x( g){KO();}set y( g){KO();}set kB( g){KO();}set qB( g){KO();}set lB( g){KO();}set mB( g){KO();}set skewX( g){KO();}set skewY( g){KO();}set nC( g){KO();}set alpha( g){KO();}set width( g){KO();}set height( g){KO();}VF(){if(XN==gC.RD||XN==gC.qE){SN.reset();OB(SN);if(XN==gC.qE)XN=gC.KG;}}YG( g){vM.style.cursor=QD.LF(ZN);}zN( j){j.preventDefault();var q=vM.getBoundingClientRect();var n=new DateTime.now().millisecondsSinceEpoch;var p=j.button;var h=null;var i=new JB(j.client.x-q.left,j.client.y-q.top);var m=null;if(p<0||p>2)return;if(j.type=="mousemove"&&bN.equals(i))return;var g=gN[p];bN=i;if(j.type!="mouseout")h=HC(i.x,i.y) as IB;var l=iB.UD;if(h is hE)if(h.LE)l=iB.VD;if(h is zF)if(h.LE)l=iB.VD;if(ZN!=l){ZN=l;vM.style.cursor=QD.LF(l);}if(fN!=null&&fN!=h){fN.dispatchEvent(kN..tM(w.BF,true)..sN=(fN.HD!=null)?fN.RC(i):new JB.cJ()..vN=i..nN=g.GC);fN=null;}if(h!=null&&h!=fN){h.dispatchEvent(kN..tM(w.CF,true)..sN=h.RC(i)..vN=i..nN=g.GC);fN=h;}var k=null;var o=false;var t=false;if(j.type=="mousedown"){k=g.YF;if(h!=g.target||n>g.AE+500)g.lC=0;g.GC=true;g.target=h;g.AE=n;g.lC++ ;}if(j.type=="mouseup"){k=g.aF;g.GC=false;o=(g.target==h);t=o&&g.lC.isEven&&(n<g.AE+500);}if(j.type=="mousemove"){k=w.AF;}if(k!=null&&h!=null){m=h.RC(i);h.dispatchEvent(kN..tM(k,true)..sN=m..vN=i..nN=g.GC..pN=g.lC);if(o){if(t&&h.uH){h.dispatchEvent(kN..tM(g.XF,true)..sN=m..vN=i..nN=g.GC);}else{h.dispatchEvent(kN..tM(g.WF,true)..sN=m..vN=i..nN=g.GC);}}}}AO( g){var j=vM.getBoundingClientRect();var h=new JB(g.client.x-j.left,g.client.y-j.top);var i=HC(h.x,h.y) as IB;if(i!=null){i.dispatchEvent(kN..tM(w.DF,true)..sN=i.RC(h)..vN=h..qN=g.deltaX..rN=g.deltaY);if(kN.ID)g.preventDefault();}}var PO=[] ;FO( h){PO.forEach((g)=>g.cancel());if(tE.KH==bE.SG){PO=[vM.onTouchStart.listen(QO),vM.onTouchEnd.listen(QO),vM.onTouchMove.listen(QO),vM.onTouchEnter.listen(QO),vM.onTouchLeave.listen(QO),vM.onTouchCancel.listen(QO)];}}QO( j){j.preventDefault();var n=vM.getBoundingClientRect();for(var m in j.changedTouches){var l=m.identifier;var i=new JB(m.client.x-n.left,m.client.y-n.top);var h=HC(i.x,i.y) as IB;var g=jN.containsKey(l)?jN[l]:new fG(h,jN.length==0);if(g.target!=null&&g.target!=h){g.target.dispatchEvent(mN..tM(RB.dG,true)..sN=(g.target.HD!=null)?g.target.RC(i):new JB.cJ()..vN=i..AN=g.JD..CN=g.FD);g.target=null;}if(h!=null&&h!=g.target){h.dispatchEvent(mN..tM(RB.cG,true)..sN=h.RC(i)..vN=i..AN=g.JD..CN=g.FD);g.target=h;}var k=null;if(j.type=="touchstart"){jN[l]=g;k=RB.lE;}if(j.type=="touchend"){jN.remove(l);k=RB.pE;}if(j.type=="touchcancel"){jN.remove(l);k=RB.sE;}if(j.type=="touchmove"){k=RB.zE;}if(k!=null&&h!=null){h.dispatchEvent(mN..tM(k,true)..sN=h.RC(i)..vN=i..AN=g.JD..CN=g.FD);}}}IO( g){g.preventDefault();var h=null;if(g.type=="keyup")h=wB.oE;if(g.type=="keydown")h=wB.TD;lN..tM(h,true)..OM=g.altKey..RM=g.ctrlKey..VM=g.shiftKey..hM=g.charCode..kM=g.keyCode..lM=XC.BG;if(g.keyLocation==VB.KeyLocation.LEFT)lN.lM=XC.GG;if(g.keyLocation==VB.KeyLocation.RIGHT)lN.lM=XC.yE;if(g.keyLocation==VB.KeyLocation.NUMPAD)lN.lM=XC.TG;if(g.keyLocation==VB.KeyLocation.JOYSTICK)lN.lM=XC.uE;if(g.keyLocation==VB.KeyLocation.MOBILE)lN.lM=XC.uE;if(PN!=null)PN.dispatchEvent(lN);}JO( g){var i=(g.charCode!=0)?g.charCode:g.keyCode;var h=new XE(XE.MG,true);h.eK=new String.fromCharCodes([i]);if(PN!=null)PN.dispatchEvent(h);}} KF( j, g){var i=new RegExp(r"^(.*/)?(?:$|(.+?)(?:(\.[^.]*$)|$))",multiLine:false,caseSensitive:false);var k=i.firstMatch(j);var h=k.group(1);return (h==null)?g:"${h}${g}";} EH(){var g=new VB.CanvasElement(width:1,height:1);g.context2d.fillStyle="#000000";g.context2d.fillRect(0,0,1,1);var i=g.context2d.getImageData(0,0,1,1).data;var h=(i[0]==0);return h;} IH( h){if(OC){for(var g=0;g<=h.length-4;g+= 4){var i=h[g+3];h[g+0]=(h[g+0]*i)~/255;h[g+1]=(h[g+1]*i)~/255;h[g+2]=(h[g+2]*i)~/255;}}else{for(var g=0;g<=h.length-4;g+= 4){var i=h[g+0];h[g+1]=(h[g+1]*i)~/255;h[g+2]=(h[g+2]*i)~/255;h[g+3]=(h[g+3]*i)~/255;}}} PH( h){if(OC){for(var g=0;g<=h.length-4;g+= 4){var i=h[g+3];if(i>0){h[g+0]=(h[g+0]*255)~/i;h[g+1]=(h[g+1]*255)~/i;h[g+2]=(h[g+2]*255)~/i;}}}else{for(var g=0;g<=h.length-4;g+= 4){var i=h[g+0];if(i>0){h[g+1]=(h[g+1]*255)~/i;h[g+2]=(h[g+2]*255)~/i;h[g+3]=(h[g+3]*255)~/i;}}}}class FJ extends AB implements aB{final  BO;final  CO;final  DO=new List<XH>();var EO=0.0;var GO=0.0;var HO=0;var OL=0;FJ( g, j):BO=g,CO=g.uN(j){for(var h in CO.DE){var i=new XH(BO,h);DO.add(i);}OL=CO.EE;GO=OL/BO.IL;} pB( h){EO+= h;var i=EO%GO;HO=gB.min((OL*i/GO).toInt(),OL-1);for(var g in DO){g.pB(h);g.hF(HO);}return true;} OB( h){for(var g in DO){if(g.visible){h.gF(g);}}}} lD( g, m, n, j){m=m.toDouble();n=n.toDouble();var GB=0.0;var CB=0.0;var q=m*g.a;var v=m*g.b;var t=m*g.a+n*g.c;var p=m*g.b+n*g.d;var u=n*g.c;var o=n*g.d;var h=GB;if(h>q)h=q;if(h>t)h=t;if(h>u)h=u;var i=CB;if(i>v)i=v;if(i>p)i=p;if(i>o)i=o;var l=GB;if(l<q)l=q;if(l<t)l=t;if(l<u)l=u;var k=CB;if(k<v)k=v;if(k<p)k=p;if(k<o)k=o;if(j==null)j=new DB.cJ();j.x=g.eB+h;j.y=g.fB+i;j.width=l-h;j.height=k-i;return j;}var OC=EH();class XH extends AB implements aB{final  aC;final  CE;final  JE=new Map<String,VC>();var oC;XH( i, h):this.aC=i,this.CE=h{for(var g in h.BC){if(g.SC!=null&&JE.containsKey(g.SC)==false){JE[g.SC]=i.xN(g.SC);}}hF(0);} pB( g){if(oC is aB){var h=oC as aB;h.pB(g);}} hF( t){var g=CE.HI(t);var o=g.x,p=g.y;var n=g.lB,k=g.mB;var m=g.skewX,l=g.skewY;var v=g.kB,PB=g.qB;var q=g.alpha;if(g.index!=t&&g.lF){var i=CE.GI(g);if(i!=null){var h=(t-g.index)/g.duration;var j=g.SF;if(j!=0){var u=0.0;if(j<0){var GB=1-h;u=1-GB*GB;j=0-j;}else{u=h*h;}h=j*u+(1-j)*h;}o=o+(i.x-o)*h;p=p+(i.y-p)*h;n=n+(i.lB-n)*h;k=k+(i.mB-k)*h;m=m+(i.skewX-m)*h;l=l+(i.skewY-l)*h;q=q+(i.alpha-q)*h;}}var CB=n*gB.cos(l);var SB=n*gB.sin(l);var KB=-k*gB.sin(m);var LB=k*gB.cos(m);var YB=o-(v*CB+PB*KB);var XB=p-(v*SB+PB*LB);BN=false;yM.IE(CB,SB,KB,LB,YB,XB);ZM=q;eM=g.visible;oC=(g.SC!=null)?JE[g.SC]:null;} OB( g){if(oC!=null){oC.OB(g);}}}class vD{final  id;final  aC;final  DE=new List<wD>();vD( g, j):aC=j,id=g["id"]{for(var h in g["layers"]){var i=new wD(h);this.DE.add(i);}} get EE{var g=0;for(var h in DE)g=gB.max(g,h.EE);return g;}}class wD{final  name;final  xH;final  BC=new List<BD>();wD( g):this.name=g["name"],this.xH=g.containsKey("flipbook")?g["flipbook"]:false{for(var i in g["keyframes"]){var h=new BD(i);this.BC.add(h);}} get EE{var g=BC[BC.length-1];return g.index+g.duration;} HI( h){var g=1;while (g<BC.length&&BC[g].index<=h)g++ ;return BC[g-1];} GI( h){for(int g=0;g<BC.length-1;g++ )if(identical(BC[g],h))return BC[g+1];return null;}}class BD{var index;var duration;var SC;var label;var x,y;var lB,mB;var skewX,skewY;var kB,qB;var visible;var alpha;var lF;var SF;BD( g){this.index=g["index"];this.duration=g["duration"];this.SC=g.containsKey("ref")?g["ref"]:null;this.label=g.containsKey("label")?g["label"]:null;this.x=g.containsKey("loc")?g["loc"][0]:0.0;this.y=g.containsKey("loc")?g["loc"][1]:0.0;this.lB=g.containsKey("scale")?g["scale"][0]:1.0;this.mB=g.containsKey("scale")?g["scale"][1]:1.0;this.skewX=g.containsKey("skew")?g["skew"][0]:0.0;this.skewY=g.containsKey("skew")?g["skew"][1]:0.0;this.kB=g.containsKey("pivot")?g["pivot"][0]:0.0;this.qB=g.containsKey("pivot")?g["pivot"][1]:0.0;this.visible=g.containsKey("visible")?g["visible"]:true;this.alpha=g.containsKey("alpha")?g["alpha"]:1.0;this.lF=g.containsKey("tweened")?g["tweened"]:true;this.SF=g.containsKey("ease")?g["ease"]:0.0;}}class kH{var aC;var DD;var CD;kH( p,this.aC){this.DD=new Map<String,lH>();this.CD=new TB.Completer();var k=0;for(var j in p["atlases"] as List){var n=j["file"] as String;var q=KF(aC.qK,n);k++ ;var g=new VB.ImageElement();g.onLoad.listen((o){if( --k==0)this.CD.complete(this);});g.onError.listen((o){this.CD.completeError(new StateError("Failed to load image."));});g.src=q;for(var i in j["textures"] as List){var m=i["symbol"] as String;var h=i["rect"] as List;var l=i["origin"] as List;var t=new lH(h[0],h[1],h[2],h[3],l[0],l[1],g);this.DD[m]=t;}}}}class lH implements VC{var x,y,width,height;var OI,QI;var ED;var RO;var SO;lH(this.x,this.y,this.width,this.height,this.OI,this.QI,this.ED); OB( g){g.context.drawImageScaledFromSource(ED,x,y,width,height,0,0,width,height);}}const GJ=const HJ();class HJ{const HJ();}//@ sourceMappingURL=dartflash_web.dart.map
